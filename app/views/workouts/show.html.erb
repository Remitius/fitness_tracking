<% provide(:title, @workout.name.first(13)) %> 

<% if @workout %>
  <ul class='workout_info'>
    <li>Name: <%= @workout.name %></li>
    <li>Date: <%= @workout.date %></li>
    <li>Note: <%= @workout.note %></li>
  </ul>

  <%= render 'layouts/workout_form' %>
  <%= link_to "delete", @workout, method: :delete, 
                                  data: { confirm: "Are you sure?" }%> 
  <%= render 'layouts/exercise_form' %>
<% end %> 

<section>
  <% if (@workout.exercises).any? %>
      <% @workout.exercises.each do |exercise| %>
        <% next unless exercise.id %> 
        <h4 class='exercise_name'>
          <%= "#{h exercise.name}".html_safe %>
          <%= link_to "delete", [@workout, exercise], method: :delete, 
                                   data: { confirm: "Are you sure?"} %> 
        </h4>

        <ul class='exercise_sets'>
          <% unless exercise.note.blank? %> 
            <li><%= "Note: #{h exercise.note}".html_safe%></li>
          <% end %> 

          <% exercise.exercise_sets.each do |set| %> 
            <li>
              <% if set.pounds %> 
                <%= "#{h set.pounds}".html_safe + " pounds"%> 
              <% end %> 

              <% if set.reps %> 
                <%= "#{h set.reps}".html_safe + " reps"%> 
              <% end %> 
            </li>
          <% end %> 
          
        </ul>

      <% end %>
  <% else %> 
    No exercises present
  <% end %> 
</section> 
